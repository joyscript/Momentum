(()=>{"use strict";var e={91:e=>{e.exports=function(e,t){return t||(t={}),e?(e=String(e.__esModule?e.default:e),t.hash&&(e+=t.hash),t.maybeNeedQuotes&&/[\t\n\f\r "'=<>`]/.test(e)?'"'.concat(e,'"'):e):e}},986:(e,t,o)=>{e.exports=o.p+"assets/favicon.ico"}},t={};function o(a){var n=t[a];if(void 0!==n)return n.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,o),r.exports}o.m=e,o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var a=t.getElementsByTagName("script");a.length&&(e=a[a.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),o.b=document.baseURI||self.location.href,(()=>{var e=o(91),t=o.n(e),a=new URL(o(986),o.b);t()(a);let n={name:"",city:"",lang:"en",menu:"general",photoSource:"github",photoTag:"",customTag:"",showBlock:{time:!0,date:!0,greeting:!0,weather:!0,quote:!0,player:!0,todo:!0,arrows:!0,mantra:!0},player:{volume:.4,mute:!1,song:0,time:0,listOpen:!0},todoList:[],todoShow:"all",colorTheme:"dark",customTheme:"",sliderSpeed:"3",effect:"none"};const r="user-momentum-joyscript";localStorage[r]?n=JSON.parse(localStorage[r]):localStorage.clear();const s=["night","morning","afternoon","evening"],l=()=>Math.floor((new Date).getHours()/6),c=()=>s[l()],i=async(e,t,o)=>{try{const o=await fetch(e);if(!o.ok)throw new Error;t(await o.json())}catch(e){o&&o()}},d=e=>e.trim().replace(/\s{1,}/g," "),u=e=>e.style.backgroundSize=e.value/e.max*100+"% 100%",m=e=>{for(let t=e.length-1;t>0;t--){let o=Math.floor(Math.random()*(t+1));[e[t],e[o]]=[e[o],e[t]]}return e},h=document.querySelector('[data-menu="photo"]'),p=h.querySelector(".custom-block"),g=h.querySelector(".tag-input"),v=h.querySelector(".tag-error"),y=h.querySelector(".custom-input"),f=h.querySelector('[value="github"]'),S={en:["Sorry, there are no such images","API is not responding now, try later."],ru:["Извините, нет таких изображений","API сейчас не отвечает, зайдите позже."]};h.dataset.source=n.photoSource,y.disabled=!n.customTag,y.value=n.customTag||"custom";const L=()=>{E(),document.body.classList.contains("autoslider-play")||W()},b=()=>{n.photoTag=c(),h.querySelector(`[value="${n.photoTag}"]`).checked=!0},E=()=>{p.classList.remove("error-tag","error-fetch"),g.value=""},w=()=>{g.value||"github"===n.photoSource||k(),p.classList.add(g.value?"error-tag":"error-fetch"),T(),setTimeout(E,3e3)},k=()=>{h.dataset.source=n.photoSource="github",f.checked=!0,b()},T=()=>v.textContent=S[n.lang][g.value?0:1];g.addEventListener("change",(()=>{g.value=d(g.value),g.value&&(W(g.value),g.blur())})),g.addEventListener("input",(()=>!g.value&&p.classList.remove("error-tag")));const q=document.querySelector(".slider"),x=document.querySelector(".slide-prev"),$=document.querySelector(".slide-next"),C="334110c40a5f1c9ae925a64f0815ecee",M={night:["72157721528777010",[]],morning:["72157721476873279",[]],afternoon:["72157721528783175",[]],evening:["72157721487545247",[]],nature:["72157721489294757",[]],animals:["72157721530560185",[]]},_={unsplash:e=>`https://api.unsplash.com/photos/random?orientation=landscape&query=${e}&client_id=XNzUrppnWkjOt4XX7VhMokSfBd-nbanps_7kePh2oeQ`,github:e=>{const t=window.innerWidth>1920?`large/${e}.webp`:`${e}.webp`;return`https://raw.githubusercontent.com/joyscript/stage1-tasks/assets/images/${n.photoTag}/${t}`},flickr:e=>{const t="https://www.flickr.com/services/rest/?method=flickr",o="extras=url_l,url_h&format=json&nojsoncallback=1";return M[e]?`${t}.galleries.getPhotos&api_key=${C}&gallery_id=${M[e]}&${o}`:`${t}.photos.search&api_key=${C}&tags=${e}&${o}`}};let A,H;const B=e=>A=Math.floor(Math.random()*e),I=e=>A=(e+A)%e;n.photoTag&&!s.includes(n.photoTag)||(n.photoTag=c()),B(20);const P=e=>{H=!1,document.body.classList.add("animation"),e.addEventListener("load",(()=>(e=>{q.prepend(e),e.classList.add("fade-in"),e.nextElementSibling&&e.nextElementSibling.classList.add("fade-out")})(e)),{once:!0}),e.addEventListener("animationend",(()=>(e=>{e.nextElementSibling&&e.nextElementSibling.remove(),document.body.classList.remove("animation"),e.classList.remove("fade-in"),H=!0})(e)),{once:!0}),console.log(g.value?g.value:n.photoTag,e.src)},O=e=>e.url_h&&e.width_h>e.height_h||e.url_l&&e.width_l>e.height_l,j=e=>window.innerWidth<600?e.url_l:e.url_h||e.url_l,N=(e,t)=>{"unsplash"===n.photoSource&&(e.urls.regular?t.src=e.urls.regular:W()),"flickr"===n.photoSource&&(t.src=(e=>{const t=e.photos.photo;if(M[n.photoTag]&&!g.value){const e=M[n.photoTag][1]=t.map((e=>j(e)));m(e),I(e.length)}else{if(1==e.photos.pages&&t.length<50)throw new Error;for(let e=0;e<t.length&&(B(t.length),!O(t[A]));e++);if(!O(t[A]))throw new Error}return j(t[A])})(e)),P(t),g.value&&(n.photoTag=n.customTag=g.value,g.classList.add("anim"),setTimeout((()=>g.value=""),400),g.addEventListener("animationend",(()=>g.classList.remove("anim")),{once:!0}),y.disabled&&(y.disabled=!1),y.checked=!0,y.nextElementSibling.textContent=y.value=g.value)},W=(e=n.photoTag)=>{const t=new Image;"github"===n.photoSource||"flickr"===n.photoSource&&M[e]&&M[e][1].length?(I("github"===n.photoSource?20:M[e][1].length),t.src="github"===n.photoSource?_.github((A+1).toString().padStart(2,"0")):M[e][1][A],P(t)):i(_[n.photoSource](e),(e=>N(e,t)),w)},G=e=>{("github"===n.photoSource||"flickr"===n.photoSource&&M[n.photoTag])&&(A+=e),W()};x.addEventListener("click",(()=>H&&G(-1))),$.addEventListener("click",(()=>H&&G(1)));const U=document.querySelector(".time"),D=document.querySelector(".date"),R=document.querySelector(".name-input"),F=document.querySelector(".double"),z=document.querySelector(".greeting"),J={en:"en-US",ru:"ru-RU"},Q={en:"[Enter name]",ru:"[Введите имя]"},X=["Доброй ночи,","Доброе утро,","Добрый день,","Добрый вечер,"],V=()=>{const e=(new Date).toLocaleTimeString("en-GB");U.textContent=e,"00:00:00"===e&&Y(),e.match(/^(00|06|12|18):00:00$/)&&(K(),s.includes(n.photoTag)&&(n.photoTag=c()),W())},Y=()=>{D.textContent=(new Date).toLocaleDateString(J[n.lang],{weekday:"long",month:"long",day:"numeric"})},K=()=>{z.textContent="en"==n.lang?`Good ${c()},`:X[l()]},Z=()=>{F.textContent=R.placeholder=Q[n.lang],F.style.minWidth=F.offsetWidth+"px"},ee=()=>U.dataset.effect=n.effect,te=()=>{Y(),n.name?F.textContent=R.value=n.name:Z(),K(),ee()};R.addEventListener("input",(()=>F.textContent=R.value)),R.addEventListener("change",(()=>{n.name=F.textContent=R.value=d(R.value),n.name?F.style.minWidth="":Z()})),R.addEventListener("keydown",(e=>{"Enter"!==e.key&&"Escape"!==e.key||e.target.blur()}));const oe=document.querySelector(".weather"),ae=oe.querySelector(".weather-main"),ne=oe.querySelector(".weather-data"),re=oe.querySelector(".city-input"),se={en:"Minsk",ru:"Минск"},le={en:"[Enter city]",ru:"[Введите город]"},ce={en:"Wind speed",ru:"Скорость ветра"},ie={en:"Humidity",ru:"Влажность"},de={en:"No data. Please enter the correct name of&nbsp;the&nbsp;city",ru:"Нет данных. Введите корректное название города"},ue=()=>`https://api.openweathermap.org/data/2.5/weather?q=${re.value}&lang=${n.lang}&appid=4bb428ba7924feb431066c5f16731af7&units=metric`,me=e=>{oe.classList.remove("error"),ae.innerHTML=`\n    <i class="weather-icon owf owf-${e.weather[0].id}"></i>\n    <span class="weather-temp">${Math.round(e.main.temp)}°C</span>\n  `,ne.innerHTML=`\n    <span>${e.weather[0].description}</span>\n    <span>${ie[n.lang]}: ${Math.round(e.main.humidity)}%</span>\n    <span>${ce[n.lang]}: ${Math.round(e.wind.speed)} m/s</span>\n  `,n.city=re.value},he=()=>{oe.classList.add("error"),ne.innerHTML=de[n.lang]},pe=()=>{re.value=n.city||se[n.lang],re.placeholder=le[n.lang],i(ue(),me,he)};re.addEventListener("change",(()=>{re.value=isNaN(re.value)?re.value.trim():"",re.value&&(re.value=re.value[0].toUpperCase()+re.value.slice(1)),i(ue(),me,he)}));const ge=document.querySelector(".quote-modal"),ve={en:"Something went wrong. The content cannot be displayed ",ru:"Что-то пошло не так. Невозможно отобразить контент."};let ye,fe;const Se=e=>{const t=[`${n.lang}-text`,`${n.lang}-author`];e.innerHTML=`\n    <button class="change-quote-button icon-reload"></button>\n    <div class="quote-text">"${fe[t[0]]}"</div>\n    <div class="quote-author">${fe[t[1]]}</div>\n  `},Le=e=>{e.previousElementSibling.remove(),e.classList.remove("next")},be=e=>{ye=(e=>{let t;do{t=Math.floor(Math.random()*e.length)}while(ye===t);return t})(e),fe=e[ye];const t=document.createElement("div");t.classList.add("quote-body","next"),Se(t),ge.append(t),t.previousElementSibling.classList.add("prev"),t.addEventListener("animationend",(()=>Le(t)),{once:!0})},Ee=e=>{e.textContent=ve[n.lang],e.classList.add("error")},we=()=>i("./data/quotes.json",be,(()=>Ee(ge.querySelector(".quote-body"))));ge.addEventListener("click",(e=>{e.target.classList.contains("change-quote-button")&&we()}));const ke=[{title:"Circle of life",singer:"E.John, L.Mkhize, Lebo M",src:"./data/sounds/Circle_of_life.mp3"},{title:"Adventure of a lifetime",singer:"Coldplay",src:"./data/sounds/Adventure_of_a_lifetime.mp3"},{title:"Leben... I feel you",singer:"Schiller, Peter Heppner",src:"./data/sounds/Leben_I_feel_you.mp3"},{title:"Wonderful life",singer:"Hurts",src:"./data/sounds/Wonderful_life.mp3"},{title:"Return to innocence",singer:"Enigma",src:"./data/sounds/Return_to_innocence.mp3"}],Te=document.querySelector(".player"),qe=Te.querySelector(".play-list"),xe=Te.querySelector(".icon-play"),$e=Te.querySelector(".icon-play-prev"),Ce=Te.querySelector(".icon-play-next"),Me=Te.querySelector(".icon-volume"),_e=Te.querySelector(".song-name-wrapper"),Ae=Te.querySelector(".current-time"),He=Te.querySelector(".duration"),Be=Te.querySelector(".progress-bar"),Ie=Te.querySelector(".volume-bar"),Pe=Te.querySelector(".playlist-button"),Oe=new Audio;let je=!1,Ne=0;const We=()=>{Oe.play(),je=!0,[xe,qe.children[Ne]].forEach((e=>e.classList.add("playing")))},Ge=()=>je?(Oe.pause(),je=!1,void[xe,qe.children[Ne]].forEach((e=>e.classList.remove("playing")))):We(),Ue=()=>{qe.querySelector(".active")&&qe.querySelector(".active").classList.remove("active"),qe.children[Ne].classList.add("active")},De=()=>{Oe.src=ke[Ne].src,n.player.song=Ne,Ue()},Re=e=>{Ne=(ke.length+Ne+e)%ke.length,De(),je&&We()},Fe=e=>`${Math.floor(e/60)}:${(e=Math.floor(e%60).toString()).padStart(2,0)}`,ze=()=>{Oe.volume=Ie.value/100,0===Oe.volume?Me.classList.add("mute"):Me.classList.remove("mute"),n.player.mute||(n.player.volume=Oe.volume),u(Ie)},Je=()=>{Be.value=0===Oe.currentTime?0:Oe.currentTime/Oe.duration*100,n.player.time=Oe.currentTime,u(Be),Ae.textContent=Fe(Oe.currentTime)},Qe=()=>{Te.classList.toggle("playlist-open"),Te.classList.contains("playlist-open")?(qe.style.height=qe.scrollHeight+22+"px",setTimeout((()=>qe.classList.add("scroll")),300)):(qe.style.height="",qe.classList.remove("scroll")),n.player.listOpen=Te.classList.contains("playlist-open")};Oe.addEventListener("loadedmetadata",(()=>{(()=>{const e=document.createElement("div");e.classList.add("song-name","next"),e.innerHTML=`<span>${ke[Ne].title}</span><span>${ke[Ne].singer}</span>`,_e.append(e),e.previousElementSibling&&e.previousElementSibling.classList.add("prev"),e.addEventListener("animationend",(()=>Le(e)),{once:!0})})(),He.textContent=Fe(Oe.duration)})),Oe.addEventListener("timeupdate",Je),Oe.addEventListener("ended",(()=>Re(1))),Ce.addEventListener("click",(()=>Re(1))),$e.addEventListener("click",(()=>Re(-1))),Pe.addEventListener("click",Qe),qe.addEventListener("click",(e=>{if(!e.target.closest(".play-item"))return;const t=ke.findIndex((t=>t.title===e.target.closest(".play-item").firstElementChild.textContent));Ne===t?Ge():(Ne=t,De(),We())})),xe.addEventListener("click",Ge),Me.addEventListener("click",(()=>{Me.classList.toggle("mute"),Me.classList.contains("mute")?(Oe.volume=0,n.player.mute=!0):(Oe.volume=n.player.volume,n.player.mute=!1),Ie.value=100*Oe.volume,u(Ie)})),Ie.addEventListener("input",ze),Be.addEventListener("input",(()=>{Oe.currentTime=Oe.duration*(Be.value/100),u(Be)}));const Xe=document.querySelector(".mantra-body"),Ve=document.querySelector(".change-mantra-button");let Ye,Ke,Ze=0;const et=()=>{Ye=Ke[Ze++%Ke.length];const e=document.createElement("div");e.classList.add("mantra-text","next"),e.textContent=Ye[n.lang],Xe.append(e),e.previousElementSibling.classList.add("prev"),Xe.style.height=e.offsetHeight+"px",e.addEventListener("animationend",(()=>Le(e)),{once:!0})};Ve.addEventListener("click",et);const tt=document.querySelector(".todo"),ot=tt.querySelector(".todo-list"),at=tt.querySelector(".todo-input"),nt=parseInt(getComputedStyle(ot).maxHeight),rt=(e,t)=>{const o=document.createElement("div");o.classList.add("todo-item","trans"),t&&o.classList.add("done"),o.innerHTML=`\n    <button class="button todo-check-button icon-check"></button>\n    <div class="todo-task" contenteditable="true">${e}</div>\n    <button class="button todo-delete-button icon-delete"></button>\n  `,ot.append(o),ot.style.height=ot.scrollHeight+"px",o.scrollIntoView(),setTimeout((()=>o.classList.remove("trans")),200)},st=()=>{ot.querySelector(".todo-item")?ot.classList.remove("empty-all"):ot.classList.add("empty-all"),ot.querySelector(".done")?ot.classList.remove("empty-done"):ot.classList.add("empty-done"),ot.scrollHeight>nt?ot.classList.add("scroll"):ot.classList.remove("scroll")},lt=e=>{e.style.height=e.offsetHeight+"px",ot.style.height=ot.scrollHeight-e.offsetHeight+"px",e.style.cssText="height: 0; opacity: 0; padding: 0",setTimeout((()=>{e.remove(),st()}),300)},ct=e=>{e&&(n.todoShow=e.value),"done"===n.todoShow?tt.classList.add("show-done"):tt.classList.remove("show-done"),st()};at.addEventListener("change",(()=>{const e=at.value=d(at.value);e?(rt(e),at.value="",st()):at.blur()})),tt.addEventListener("click",(e=>{e.target.matches('[name="todoShow"]')&&ct(e.target),e.target.matches(".todo-check-button")&&(e.target.parentElement.classList.toggle("done"),st()),e.target.matches(".todo-delete-button")&&lt(e.target.parentElement),e.target.matches(".todo-clear-button")&&(()=>{const e="done"===n.todoShow?".todo-item.done":".todo-item",t=ot.querySelectorAll(e),o=Array.from(t).reduce(((e,t)=>e+t.offsetHeight),0);t.forEach((e=>lt(e))),ot.style.height=ot.scrollHeight-o+"px",st()})()})),tt.addEventListener("keydown",(e=>{var t;e.target.classList.contains("todo-task")&&("Enter"!==e.key&&"Escape"!==e.key||((t=e.target).textContent=d(t.textContent),t.blur()))}));const it=document.querySelector(":root"),dt=document.querySelector(".color-option"),ut=dt.querySelectorAll("input[data-color]"),mt=dt.querySelector(".copy-button"),ht=document.querySelector('input[value="user"]'),pt={dark:{active:"#e100ff",modal:"#ffffff",activeBtn:"#ffffff",modalBg:"#09031599",overlay:"#00001445"},light:{active:"#00fafa",modal:"#303030",activeBtn:"#303030",modalBg:"#ffffffdd",overlay:"#00001445"}},gt=()=>{const e="user"===n.colorTheme?n.customTheme:pt[n.colorTheme];"user"===n.colorTheme?dt.classList.add("custom"):dt.classList.remove("custom"),vt(e),yt(e),ft()},vt=e=>{for(let t in e)it.style.setProperty(`--color-${t}`,e[t])},yt=e=>{ut.forEach((t=>{if(t.dataset.color.match("Alpha")){const o=t.dataset.color.replace("Alpha","");t.value=parseInt(e[o].slice(-2),16),u(t)}else"modalBg"===t.dataset.color?t.value=e.modalBg.slice(0,-2):t.value=e[t.dataset.color]}))},ft=()=>{ut.forEach((e=>e.disabled="user"!==n.colorTheme))};dt.addEventListener("input",(e=>{var t;(t=e.target).dataset.color.match("Alpha")?(e=>{u(e);const t=e.dataset.color.replace("Alpha","");n.customTheme[t]=n.customTheme[t].slice(0,-2)+parseInt(e.value).toString(16).padStart(2,"0"),it.style.setProperty(`--color-${t}`,n.customTheme[t])})(t):"modalBg"===t.dataset.color?(e=>{n.customTheme.modalBg=e.value+n.customTheme.modalBg.slice(-2),it.style.setProperty("--color-modalBg",n.customTheme.modalBg)})(t):(e=>{n.customTheme[e.dataset.color]=e.value,it.style.setProperty(`--color-${e.dataset.color}`,e.value)})(t)})),mt.addEventListener("click",(()=>{n.customTheme=Object.assign({},pt[n.colorTheme]),n.colorTheme="user",dt.classList.add("custom"),ht.checked=!0,ft()}));const St=document.querySelector(".autoslider"),Lt=St.querySelector(".autoslider-button input"),bt=St.querySelector(".speed-input"),Et=document.querySelector('[value="unsplash"]');let wt;const kt=()=>{qt();const e=()=>{G(1),wt=setTimeout(e,1e3*n.sliderSpeed)};e()},Tt=()=>{qt(),clearInterval(wt)},qt=()=>{Lt.checked?document.body.classList.add("autoslider-play"):document.body.classList.remove("autoslider-play"),Et.disabled=Lt.checked,xt()},xt=()=>{Lt.nextElementSibling.textContent={en:["Off","On"],ru:["Выкл","Вкл"]}[n.lang][Lt.checked?1:0]},$t=()=>{bt.value=`${"en"===n.lang?"Speed":"Скорость"}: ${n.sliderSpeed}s`};Lt.addEventListener("click",(()=>{Lt.checked?kt():Tt()})),bt.addEventListener("focus",(()=>bt.value="")),bt.addEventListener("blur",$t),bt.addEventListener("input",(()=>{bt.value.match(/^[0-9]{1,2}$/)||(bt.value=bt.value.slice(0,-1))})),bt.addEventListener("change",(()=>{bt.value<3&&(bt.value=3),Lt.checked&&Tt(),n.sliderSpeed=+bt.value,Lt.checked&&setTimeout(kt,1e3),bt.blur()}));const Ct=document.querySelectorAll("[data-trans]"),Mt=document.querySelectorAll(".modal-button input"),_t=document.querySelectorAll(".modal-input"),At={language:["Language","Язык"],showBlocks:["Show / hide","Показать / скрыть"],music:["Music","Музыка"],photoSourse:["Photo sourse","Фото ресурс"],photoTags:["Photo tags","Фото тег"],customTag:["Custom tag","Личный тег"],autoslider:["Autoslider","Автослайдер"],sliderMessage:["Available for GitHub and Flickr","Доступен для GitHub и Flickr"],speed:["Speed","Скорость"],customColors:["Сustomize colors","Настройте цвета"],copyColors:["Copy these colors to your theme","Скопируйте цвета в свою тему"],activeColor:["Active color","Активный цвет"],background:["Modal background","Фон модальных окон"],bgOpacity:["Background opacity","Прозрачность фона"],modalText:["Modal text","Текст модальных окон"],btnText:["Active button text","Текст активных кнопок"],overlay:["Overlay opacity","Затемнение фона"],theme:["Theme","Тема"],effects:["Timer decoration","Украшение таймера"],todoText:["No todos yet","Еще нет задач"],doneText:["No completed todos","Нет выполненных задач"],clearBtn:["Clear list","Очистить"],general:["General","Общее"],photo:["Photo","Фото"],style:["Style","Стиль"],en:["English","Англ."],ru:["Russian","Русский"],time:["Time","Время"],date:["Date","Дата"],greeting:["Name","Имя"],weather:["Weather","Погода"],quote:["Quote","Цитата"],player:["Player","Плеер"],todo:["Todo","Задачи"],mantra:["Mantra","Мантра"],arrows:["Arrows","Стрелки"],gradient:["Gradient","Градиент"],glow:["Glow","Сияние"],none:["None","Нет"],github:["GitHub","GitHub"],unsplash:["Unsplash","Unsplash"],flickr:["Flickr","Flickr"],night:["Night","Ночь"],morning:["Morning","Утро"],afternoon:["Afternoon","День"],evening:["Evening","Вечер"],nature:["Nature","Природа"],animals:["Animals","Животные"],custom:["Your tag","Ваш тег"],dark:["Dark","Темная"],light:["Light","Светлая"],user:["Custom","Личная"],all:["All","Все"],done:["Done","Выполнены"],tagInput:["[Enter your tag]","[Введите ваш тег]"],sliderInput:["[Enter speed, 3 - 99 s]","[Введите скорость, 3-99s]"],todoInput:["[Enter new todo]","[Введите новую задачу]"]},Ht=()=>{const e="en"===n.lang?0:1;Ct.forEach((t=>t.textContent=At[t.dataset.trans][e])),_t.forEach((t=>t.placeholder=At[t.name][e])),Mt.forEach((t=>{t.nextElementSibling.textContent=At[t.value]?At[t.value][e]:t.value})),xt(),$t()},Bt=document.querySelector(".menu"),It=Bt.querySelectorAll(".menu-part"),Pt=document.querySelectorAll("[data-show]"),Ot=()=>{Pt.forEach((e=>{n.showBlock[e.dataset.show]?e.classList.add("show"):e.classList.remove("show")}))},jt=()=>{It.forEach((e=>{e.dataset.menu===n.menu?e.classList.add("active"):e.classList.remove("active")}))};Bt.addEventListener("click",(e=>{if(!e.target.matches(".modal-button > input")||e.target.closest(".autoslider-button"))return;const t=e.target;"showBlock"===t.name?n.showBlock[t.value]=t.checked:n[t.name]=t.value,"menu"===t.name&&jt(),"lang"===t.name&&(Ht(),te(),pe(),Se(ge.querySelector(".quote-body")),Xe.querySelector(".mantra-text").textContent=Ye[n.lang],T()),"showBlock"===t.name&&Ot(),"effect"===t.name&&ee(),"photoTag"===t.name&&L(),"photoSource"===t.name&&("github"===n.photoSource&&b(),h.dataset.source=n.photoSource,L()),"colorTheme"===t.name&&gt()})),document.addEventListener("click",(e=>{e.target.closest(".modal-toggle-button")&&(e=>{e.classList.toggle("open");const t=o=>{o.target.closest(`.${e.dataset.modal}`)||(e.classList.remove("open"),document.body.removeEventListener("click",t))};e.classList.contains("open")&&document.body.addEventListener("click",t)})(e.target.closest(".modal-toggle-button").parentElement)})),window.addEventListener("beforeunload",(()=>{n.todoList.length=0,ot.querySelectorAll(".todo-task").forEach((e=>{n.todoList.push([e.textContent,e.parentElement.classList.contains("done")?"done":""])})),localStorage.setItem(r,JSON.stringify(n))})),W(),V(),te(),setInterval(V,1e3),pe(),we(),ke.forEach((e=>(e=>{const t=document.createElement("li");t.classList.add("play-item"),t.innerHTML=`<span class='song-title'>${e.title}</span><span class='song-singer'>${e.singer}</span>`,qe.append(t)})(e))),Ne=n.player.song,Oe.src=ke[Ne].src,Oe.currentTime=n.player.time,Ie.value=n.player.mute?0:100*n.player.volume,Ue(),ze(),Je(),n.player.listOpen&&Qe(),i("./data/mantra.json",(e=>{Ke=m(e),et(e)}),(()=>Ee(Xe))),Ot(),Ht(),jt(),Mt.forEach((e=>{e.checked="showBlock"===e.name?n.showBlock[e.value]:n[e.name]===e.value})),n.customTheme||(n.customTheme=Object.assign({},pt[n.colorTheme])),gt(),n.todoList.forEach((e=>rt(e[0],e[1]))),"done"===n.todoShow?ct():st()})()})();